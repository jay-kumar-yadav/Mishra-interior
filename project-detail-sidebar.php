<?php
// Sample project data
$projects = [
    [
        'id' => 1,
        'title' => 'Wallpaper Sample',
        'category' => 'Category1',
        'image' => 'image/mi (23).jpeg',
        'description' => 'This elegant wallpaper sample features a modern design with subtle patterns that complement any interior space. Made from high-quality materials, it offers durability and easy maintenance.',
        'details' => [
            'Material' => 'Vinyl',
            'Size' => '10m x 0.5m',
            'Color' => 'Beige with grey patterns',
            'Application' => 'Living rooms, bedrooms'
        ],
        'gallery' => [
            'image/mi (23).jpeg',
            'image/mi (25).jpeg',
            'image/mi (28).jpg'
        ]
    ],
    [
        'id' => 2,
        'title' => 'Wallpaper Design',
        'category' => 'Category4',
        'image' => 'image/mi (25).jpeg',
        'description' => 'A contemporary wallpaper design that brings artistic flair to your walls. This design features geometric patterns that create visual interest and depth in any room.',
        'details' => [
            'Material' => 'Non-woven',
            'Size' => '10m x 0.53m',
            'Color' => 'Geometric patterns in blue and grey',
            'Application' => 'Accent walls, offices'
        ],
        'gallery' => [
            'image/mi (25).jpeg',
            'image/mi (36).jpeg',
            'image/mi (41).jpeg'
        ]
    ],
    [
        'id' => 3,
        'title' => 'Wallpaper Sample',
        'category' => 'Category2',
        'image' => 'image/mi (28).jpg',
        'description' => 'This textured wallpaper adds dimension and character to your space. The subtle embossing creates a sophisticated look that works well in both traditional and modern settings.',
        'details' => [
            'Material' => 'Textured vinyl',
            'Size' => '10m x 0.5m',
            'Color' => 'Textured white',
            'Application' => 'Dining rooms, hallways'
        ],
        'gallery' => [
            'image/mi (28).jpg',
            'image/mi (38).jpeg',
            'image/mi (46).jpeg'
        ]
    ],
    [
        'id' => 4,
        'title' => 'Wallpaper Sample',
        'category' => 'Category3',
        'image' => 'image/mi (36).jpeg',
        'description' => 'A floral-inspired wallpaper that brings nature indoors. This design features delicate patterns that create a calming and inviting atmosphere in any room.',
        'details' => [
            'Material' => 'Washable paper',
            'Size' => '10m x 0.52m',
            'Color' => 'Floral pattern on light background',
            'Application' => 'Bedrooms, nurseries'
        ],
        'gallery' => [
            'image/mi (36).jpeg',
            'image/mi (47).jpg',
            'image/mi (54).jpeg'
        ]
    ],
    [
        'id' => 5,
        'title' => 'Wallpaper Sample',
        'category' => 'Category2',
        'image' => 'image/mi (38).jpeg',
        'description' => 'This bold wallpaper makes a statement with its vibrant colors and large-scale pattern. Perfect for creating a focal point in any room.',
        'details' => [
            'Material' => 'Strippable vinyl',
            'Size' => '10m x 0.53m',
            'Color' => 'Bold geometric patterns',
            'Application' => 'Feature walls, commercial spaces'
        ],
        'gallery' => [
            'image/mi (38).jpeg',
            'image/mi (52).jpeg',
            'image/mi (57).jpg'
        ]
    ],
    [
        'id' => 6,
        'title' => 'Wallpaper Sample',
        'category' => 'Category1',
        'image' => 'image/mi (41).jpeg',
        'description' => 'A minimalist wallpaper design that offers understated elegance. The subtle pattern adds interest without overwhelming the space.',
        'details' => [
            'Material' => 'Non-woven',
            'Size' => '10m x 0.5m',
            'Color' => 'Subtle grey pattern',
            'Application' => 'Any room, minimalist interiors'
        ],
        'gallery' => [
            'image/mi (41).jpeg',
            'image/mi (65).jpeg',
            'image/mi (71).jpg'
        ]
    ],
    [
        'id' => 7,
        'title' => 'Wallpaper Sample',
        'category' => 'Category3',
        'image' => 'image/mi (47).jpg',
        'description' => 'This metallic-finish wallpaper adds a touch of luxury to any space. The reflective elements create depth and visual interest.',
        'details' => [
            'Material' => 'Vinyl with metallic finish',
            'Size' => '10m x 0.52m',
            'Color' => 'Silver and grey patterns',
            'Application' => 'Accent walls, luxury spaces'
        ],
        'gallery' => [
            'image/mi (47).jpg',
            'image/mi (79).jpeg',
            'image/mi (81).jpeg'
        ]
    ],
    [
        'id' => 8,
        'title' => 'Wallpaper Sample',
        'category' => 'Category4',
        'image' => 'image/mi (52).jpeg',
        'description' => 'A nature-inspired wallpaper that brings the outdoors inside. This design features organic patterns that create a serene atmosphere.',
        'details' => [
            'Material' => 'Eco-friendly paper',
            'Size' => '10m x 0.53m',
            'Color' => 'Organic patterns in green tones',
            'Application' => 'Living rooms, spas, wellness centers'
        ],
        'gallery' => [
            'image/mi (52).jpeg',
            'image/mi (44).jpeg',
            'image/mi (46).jpeg'
        ]
    ],
    [
        'id' => 9,
        'title' => 'Wallpaper Sample',
        'category' => 'Category4',
        'image' => 'image/mi (44).jpeg',
        'description' => 'This abstract design wallpaper adds artistic flair to any space. The unique pattern serves as a conversation starter.',
        'details' => [
            'Material' => 'Washable vinyl',
            'Size' => '10m x 0.53m',
            'Color' => 'Abstract pattern in multiple colors',
            'Application' => 'Modern interiors, creative spaces'
        ],
        'gallery' => [
            'image/mi (44).jpeg',
            'image/mi (54).jpeg',
            'image/mi (65).jpeg'
        ]
    ],
    [
        'id' => 10,
        'title' => 'Wallpaper Sample',
        'category' => 'Category3',
        'image' => 'image/mi (46).jpeg',
        'description' => 'A traditional-inspired wallpaper with a modern twist. This design combines classic patterns with contemporary colors.',
        'details' => [
            'Material' => 'Non-woven',
            'Size' => '10m x 0.52m',
            'Color' => 'Traditional pattern in modern colors',
            'Application' => 'Traditional and transitional spaces'
        ],
        'gallery' => [
            'image/mi (46).jpeg',
            'image/mi (71).jpg',
            'image/mi (79).jpeg'
        ]
    ],
    [
        'id' => 11,
        'title' => 'Wallpaper Sample',
        'category' => 'Category1',
        'image' => 'image/mi (54).jpeg',
        'description' => 'This striped wallpaper creates the illusion of height in any room. The vertical lines make ceilings appear higher.',
        'details' => [
            'Material' => 'Strippable paper',
            'Size' => '10m x 0.5m',
            'Color' => 'Vertical stripes in neutral tones',
            'Application' => 'Rooms with low ceilings, hallways'
        ],
        'gallery' => [
            'image/mi (54).jpeg',
            'image/mi (81).jpeg',
            'image/mi (23).jpeg'
        ]
    ],
    [
        'id' => 12,
        'title' => 'Wallpaper Sample',
        'category' => 'Category2',
        'image' => 'image/mi (57).jpg',
        'description' => 'A damask pattern wallpaper that adds elegance and sophistication. This classic design works well in formal spaces.',
        'details' => [
            'Material' => 'Vinyl-coated',
            'Size' => '10m x 0.53m',
            'Color' => 'Damask pattern in cream and gold',
            'Application' => 'Dining rooms, formal living areas'
        ],
        'gallery' => [
            'image/mi (57).jpg',
            'image/mi (28).jpg',
            'image/mi (38).jpeg'
        ]
        ],
    // [
    //     'id' => 13,
    //     'title' => 'Wallpaper Sample',
    //     'category' => 'Category4',
    //     'image' => 'image/mi (65).jpeg',
    //     'description' => 'This brick-effect wallpaper offers the look of exposed brick without the maintenance. Perfect for industrial-style interiors.',
    //     'details' => [
    //         'Material' => Textured vinyl',
    //         'Size' => '10m x 0.53m',
    //         'Color' => 'Red brick pattern',
    //         'Application' => 'Industrial spaces, accent walls'
    //     ],
    //     'gallery' => [
    //         'image/mi (65).jpeg',
    //         'image/mi (25).jpeg',
    //         'image/mi (52).jpeg'
    //     ]
    // ],

    //[
    //     'id' => 13,
    //     'title' => 'Wallpaper Sample',
    //     'category' => 'Category4',
    //     'image' => 'image/mi (65).jpeg',
    //     'description' => 'This brick-effect wallpaper offers the look of exposed brick without the maintenance. Perfect for industrial-style interiors.',
    //     'details' => [
    //         'Material' => Textured vinyl',
    //         'Size' => '10m x 0.53m',
    //         'Color' => 'Red brick pattern',
    //         'Application' => 'Industrial spaces, accent walls'
    //     ],
    //     'gallery' => [
    //         'image/mi (65).jpeg',
    //         'image/mi (25).jpeg',
    //         'image/mi (52).jpeg'
    //     ]
    // ],
    [
        'id' => 13,
        'title' => 'Wallpaper Sample',
        'category' => 'Category3',
        'image' => 'image/mi (65).jpg',
        'description' => 'A tropical-inspired wallpaper that brings vacation vibes to your home. This design features lush foliage patterns.',
        'details' => [
            'Material' => 'Washable paper',
            'Size' => '10m x 0.52m',
            'Color' => 'Tropical leaves in green tones',
            'Application' => 'Bathrooms, sunrooms, casual spaces'
        ],
        'gallery' => [
            'image/mi (65).jpg',
            'image/mi (25).jpeg',
            'image/mi (52).jpg'
        ]
    ],
    [
        'id' => 14,
        'title' => 'Wallpaper Sample',
        'category' => 'Category3',
        'image' => 'image/mi (71).jpg',
        'description' => 'A tropical-inspired wallpaper that brings vacation vibes to your home. This design features lush foliage patterns.',
        'details' => [
            'Material' => 'Washable paper',
            'Size' => '10m x 0.52m',
            'Color' => 'Tropical leaves in green tones',
            'Application' => 'Bathrooms, sunrooms, casual spaces'
        ],
        'gallery' => [
            'image/mi (71).jpg',
            'image/mi (36).jpeg',
            'image/mi (47).jpg'
        ]
    ],
    [
        'id' => 15,
        'title' => 'Wallpaper Sample',
        'category' => 'Category1',
        'image' => 'image/mi (79).jpeg',
        'description' => 'This ombre-effect wallpaper creates a gradient of color that adds depth and interest to any wall.',
        'details' => [
            'Material' => 'Non-woven',
            'Size' => '10m x 0.5m',
            'Color' => 'Blue ombre effect',
            'Application' => 'Feature walls, modern interiors'
        ],
        'gallery' => [
            'image/mi (79).jpeg',
            'image/mi (41).jpeg',
            'image/mi (54).jpeg'
        ]
    ],
    [
        'id' => 16,
        'title' => 'Wallpaper Sample',
        'category' => 'Category2',
        'image' => 'image/mi (81).jpeg',
        'description' => 'A Moroccan-inspired wallpaper with intricate patterns. This design adds exotic flair to any space.',
        'details' => [
            'Material' => 'Vinyl',
            'Size' => '10m x 0.53m',
            'Color' => 'Intricate patterns in earth tones',
            'Application' => 'Boho-chic interiors, meditation spaces'
        ],
        'gallery' => [
            'image/mi (81).jpeg',
            'image/mi (57).jpg',
            'image/mi (65).jpeg'
        ]
    ]
];

// Get the project ID from the URL
$project_id = isset($_GET['id']) ? intval($_GET['id']) : 1;

// Find the project with the matching ID
$project = null;
foreach ($projects as $p) {
    if ($p['id'] == $project_id) {
        $project = $p;
        break;
    }
}

// If project not found, use the first one
if (!$project) {
    $project = $projects[0];
}

// Get related projects (same category)
$related_projects = array_filter($projects, function($p) use ($project) {
    return $p['category'] == $project['category'] && $p['id'] != $project['id'];
});

// Limit to 4 related projects
$related_projects = array_slice($related_projects, 0, 4);
?>

<!DOCTYPE html>
<html lang="en">

    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <!--[if IE]>
        <meta http-equiv='X-UA-Compatible' content='IE=edge,chrome=1'>
        <![endif]-->
        <meta name="keywords" content="Mishar Interios,Wallpaper,Wooden Flooring,
              Carpet,Vinyl,Sport Flooring,Blinds,Sera Board,Deck Wood Flooring,Wall Paintaing,Interior
              Rubber Flooring,
              Mehta Techno"/>
        <meta name="description" content="Mishra Interior - Responsive HTML Template for Interior Design and Decoration" />
        <meta name="author" content="mehtatechno.com" />
        <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
        <title>Mishra Interiors - <?php echo htmlspecialchars($project['title']); ?></title>

        <link rel="icon" href="image/0.png" type="image/x-icon">
        <link href="main.css" rel="stylesheet">
        <link href="assets/plugins/font-awesome/css/font-awesome.css" rel="stylesheet" type="text/css"/>
        <link rel="stylesheet" href="https://code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">

    </head>
    <body>
        <!--//==Preloader Start==//-->
        <div class="preloader">
            <div class="thecube">
                <div class="loader"></div>
                <h4>Loading</h4>
            </div>
        </div>
        <!--//==Preloader End==//-->  
        <!--//==Header Start==//-->
        <?php include 'header.php'; ?>
        <!--//==Header End==//-->
        <!--//==Page Header Start==//-->	  
        <div class="page-header black-overlay">
            <div class="container breadcrumb-section">
                <div class="row pad-s15">
                    <div class="col-md-12">
                        <h2><?php echo htmlspecialchars($project['title']); ?></h2>
                        <div class="clear"></div>
                        <div class="breadcrumb-box">
                            <ul class="breadcrumb">
                                <li>
                                    <a href="index.php"><i class="fa fa-home" aria-hidden="true"></i></a>
                                </li>
                                <li>
                                    <a href="project-grid.php">Projects</a>
                                </li>
                                <li class="active"><?php echo htmlspecialchars($project['title']); ?></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <!--//==Page Header End==//-->
        <!--//==Project Detail Page Start==//-->
        <section class="page_single wa-product-sidebar padTB100">
            <div class="container">
                <div class="row">
                    <!--//==Project Detail Section Start==//-->			
                    <div class="col-md-9 col-sm-8 col-xs-12 pull-right">
                        <div class="row">
                            <div class="col-md-12">
                                <div class="wa-project-detail-image">
                                    <img src="<?php echo htmlspecialchars($project['image']); ?>" alt="<?php echo htmlspecialchars($project['title']); ?>">
                                </div>
                            </div>
                            <div class="col-md-12 padT40">
                                <h3><?php echo htmlspecialchars($project['title']); ?></h3>
                                <div class="wa-post-meta padB20">
                                    <span><i class="fa fa-folder-open" aria-hidden="true"></i> Category: <?php echo htmlspecialchars($project['category']); ?></span>
                                </div>
                                <p><?php echo htmlspecialchars($project['description']); ?></p>
                                
                                <div class="wa-project-details padT30">
                                    <h4>Project Details</h4>
                                    <div class="row padT20">
                                        <?php foreach ($project['details'] as $key => $value): ?>
                                        <div class="col-md-6 col-sm-6 col-xs-12 padB20">
                                            <div class="wa-detail-item">
                                                <h5><?php echo htmlspecialchars($key); ?></h5>
                                                <p><?php echo htmlspecialchars($value); ?></p>
                                            </div>
                                        </div>
                                        <?php endforeach; ?>
                                    </div>
                                </div>
                                
                                <div class="wa-project-gallery padT40">
                                    <h4>Gallery</h4>
                                    <div class="row padT20">
                                        <?php foreach ($project['gallery'] as $image): ?>
                                        <div class="col-md-4 col-sm-4 col-xs-12 padB20">
                                            <div class="wa-gallery-item">
                                                <a href="<?php echo htmlspecialchars($image); ?>" class="fancybox" data-fancybox-group="gallery">
                                                    <img src="<?php echo htmlspecialchars($image); ?>" alt="Gallery Image">
                                                    <div class="wa-gallery-overlay">
                                                        <i class="fa fa-search-plus" aria-hidden="true"></i>
                                                    </div>
                                                </a>
                                            </div>
                                        </div>
                                        <?php endforeach; ?>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!--//==Project Detail Section End==//-->
                    <!--//======Sidebar Start=======//-->
                    <div class="col-md-3 col-sm-4 col-xs-12 pull-left">
                        <div class="row">
                            <div class="sidebar">
                                <div class="col-md-12">
                                    <!--widget-->
                                    <div class="widget">
                                        <h4>Project Info</h4>
                                        <ul class="project-info">
                                            <li>
                                                <span>Category:</span>
                                                <span><?php echo htmlspecialchars($project['category']); ?></span>
                                            </li>
                                            <?php foreach ($project['details'] as $key => $value): ?>
                                            <li>
                                                <span><?php echo htmlspecialchars($key); ?>:</span>
                                                <span><?php echo htmlspecialchars($value); ?></span>
                                            </li>
                                            <?php endforeach; ?>
                                        </ul>
                                    </div>
                                    
                                    <!--widget-->
                                    <div class="widget">
                                        <h4>Related Projects</h4>
                                        <?php if (count($related_projects) > 0): ?>
                                            <?php foreach ($related_projects as $related): ?>
                                            <div class="related-project padB15">
                                                <div class="wa-theme-design-block strict-no-border">
                                                    <figure class="dark-theme">
                                                        <a href="project-detail-sidebar.php?id=<?php echo $related['id']; ?>">
                                                            <img src="<?php echo htmlspecialchars($related['image']); ?>" alt="<?php echo htmlspecialchars($related['title']); ?>">
                                                        </a>
                                                    </figure>
                                                </div>
                                                <h5>
                                                    <a href="project-detail-sidebar.php?id=<?php echo $related['id']; ?>">
                                                        <?php echo htmlspecialchars($related['title']); ?>
                                                    </a>
                                                </h5>
                                            </div>
                                            <?php endforeach; ?>
                                        <?php else: ?>
                                            <p>No related projects found.</p>
                                        <?php endif; ?>
                                    </div>
                                    
                                    <!--widget-->
                                    <div class="widget">
                                        <h4>Categories</h4>
                                        <ul class="links-lists">
                                            <?php
                                            $categories = array_unique(array_column($projects, 'category'));
                                            foreach ($categories as $category): 
                                                $count = count(array_filter($projects, function($p) use ($category) {
                                                    return $p['category'] === $category;
                                                }));
                                            ?>
                                            <li>
                                                <a href="project-grid.php?category=<?php echo urlencode($category); ?>">
                                                    <div class="clearfix">
                                                        <span class="pull-left"><?php echo htmlspecialchars($category); ?></span> 
                                                        <span class="pull-right">(<?php echo $count; ?>)</span>
                                                    </div>
                                                </a>
                                            </li>
                                            <?php endforeach; ?>
                                        </ul>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    <!--//======Sidebar End=======//-->
                </div>
            </div>
        </section>
        <!--//==Project Detail Page End==//-->		
        <!--//=========Footer Start=========//-->
        <?php include 'footer.php'; ?>

        <!--//=========Footer End=========//-->	  
        <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
        <script src="assets/js/jquery.min.js"></script>
        <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
        <!-- Include all compiled plugins (below), or include individual files as needed -->
        <script src="assets/js/bootstrap.min.js"></script>
        <script type="text/javascript" src="assets/plugins/menu/js/hover-dropdown-menu.js"></script> 
        <script type="text/javascript" src="assets/plugins/menu/js/jquery.hover-dropdown-menu-addon.js"></script>	
        <script src="assets/plugins/owl-carousel/js/owl.carousel.js"></script>	 
        <script src="assets/plugins/mixitup/js/jquery.mixitup.js"></script>	
        <script src="assets/plugins/fancymedia/js/jquery.fancybox.pack.js"></script>
        <script src="assets/plugins/fancymedia/js/jquery.fancybox-media.js"></script>  		
        <script type="text/javascript" src="assets/plugins/counter/js/jquery.countTo.js"></script> 
        <script type="text/javascript" src="assets/plugins/counter/js/jquery.appear.js"></script>    
        <script src="assets/js/main.js"></script>
        
        <script>
        $(document).ready(function() {
            // Initialize fancybox for gallery images
            $(".fancybox").fancybox({
                openEffect: 'elastic',
                closeEffect: 'elastic',
                helpers: {
                    title: {
                        type: 'inside'
                    }
                }
            });
        });
        </script>
    </body>
</html>